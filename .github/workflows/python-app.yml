name: Add Two Numbers

on:
  workflow_dispatch:
    inputs:
      num1:
        description: 'Enter first number'
        required: true
        default: '5'
      num2:
        description: 'Enter second number'
        required: true
        default: '7'

jobs:
  run-add:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'

      - name: Run Script
        run: python second.py ${{ github.event.inputs.num1 }} ${{ github.event.inputs.num2 }}

      - name: Run add.py
        id: run-script
        run: |
          result=$(python second.py ${{ github.event.inputs.num1 }} ${{ github.event.inputs.num2 }} | awk '{print $2}')
          echo "result=$result" >> $GITHUB_OUTPUT

      - name: Show result in summary
        run: echo "### The sum is ${{ steps.run-script.outputs.result }}" >> $GITHUB_STEP_SUMMARY
